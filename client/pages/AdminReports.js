import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import { Card, CardContent, CardHeader, CardTitle, } from "../components/ui/card";
import { Button } from "../components/ui/button";
import { Label } from "../components/ui/label";
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue, } from "../components/ui/select";
import { Tabs, TabsContent, TabsList, TabsTrigger, } from "../components/ui/tabs";
import { BarChart3, Download, FileText, Calendar, TrendingUp, Clock, Users, Filter, } from "lucide-react";
const AdminReports = () => {
    const [selectedPeriod, setSelectedPeriod] = useState("month");
    const [selectedWard, setSelectedWard] = useState("all");
    const [selectedType, setSelectedType] = useState("all");
    const reportMetrics = {
        totalComplaints: 1247,
        resolvedComplaints: 1089,
        slaCompliance: 87.3,
        avgResolutionTime: 2.4, // days
        citizenSatisfaction: 4.2, // out of 5
    };
    const wardPerformance = [
        { ward: "Ward 1", complaints: 234, resolved: 201, slaCompliance: 85.9 },
        { ward: "Ward 2", complaints: 298, resolved: 267, slaCompliance: 89.6 },
        { ward: "Ward 3", complaints: 189, resolved: 165, slaCompliance: 87.3 },
        { ward: "Ward 4", complaints: 276, resolved: 241, slaCompliance: 87.3 },
        { ward: "Ward 5", complaints: 250, resolved: 215, slaCompliance: 86.0 },
    ];
    const complaintTrends = [
        { month: "Jan", total: 234, resolved: 201 },
        { month: "Feb", total: 298, resolved: 267 },
        { month: "Mar", total: 189, resolved: 165 },
        { month: "Apr", total: 276, resolved: 241 },
        { month: "May", total: 250, resolved: 215 },
    ];
    const typeBreakdown = [
        { type: "Water Supply", count: 287, percentage: 23 },
        { type: "Electricity", count: 243, percentage: 19.5 },
        { type: "Road Repair", count: 198, percentage: 15.9 },
        { type: "Garbage Collection", count: 167, percentage: 13.4 },
        { type: "Street Lighting", count: 134, percentage: 10.7 },
        { type: "Others", count: 218, percentage: 17.5 },
    ];
    const exportReport = (format) => {
        console.log(`Exporting report in ${format} format...`);
        // Here you would implement the actual export functionality
    };
    const generateReport = () => {
        console.log("Generating custom report with filters:", {
            period: selectedPeriod,
            ward: selectedWard,
            type: selectedType,
        });
    };
    return (_jsxs("div", { className: "space-y-6", children: [_jsxs("div", { className: "flex justify-between items-center", children: [_jsxs("div", { children: [_jsx("h1", { className: "text-3xl font-bold", children: "Reports & Analytics" }), _jsx("p", { className: "text-muted-foreground", children: "Comprehensive complaint management insights" })] }), _jsxs("div", { className: "flex space-x-2", children: [_jsxs(Button, { variant: "outline", onClick: () => exportReport("excel"), children: [_jsx(Download, { className: "h-4 w-4 mr-2" }), "Export Excel"] }), _jsxs(Button, { variant: "outline", onClick: () => exportReport("pdf"), children: [_jsx(Download, { className: "h-4 w-4 mr-2" }), "Export PDF"] }), _jsxs(Button, { onClick: generateReport, children: [_jsx(FileText, { className: "h-4 w-4 mr-2" }), "Generate Report"] })] })] }), _jsxs(Card, { children: [_jsx(CardHeader, { children: _jsxs(CardTitle, { className: "flex items-center space-x-2", children: [_jsx(Filter, { className: "h-5 w-5" }), _jsx("span", { children: "Report Filters" })] }) }), _jsx(CardContent, { children: _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-4 gap-4", children: [_jsxs("div", { className: "space-y-2", children: [_jsx(Label, { children: "Time Period" }), _jsxs(Select, { value: selectedPeriod, onValueChange: setSelectedPeriod, children: [_jsx(SelectTrigger, { children: _jsx(SelectValue, {}) }), _jsxs(SelectContent, { children: [_jsx(SelectItem, { value: "week", children: "This Week" }), _jsx(SelectItem, { value: "month", children: "This Month" }), _jsx(SelectItem, { value: "quarter", children: "This Quarter" }), _jsx(SelectItem, { value: "year", children: "This Year" }), _jsx(SelectItem, { value: "custom", children: "Custom Range" })] })] })] }), _jsxs("div", { className: "space-y-2", children: [_jsx(Label, { children: "Ward" }), _jsxs(Select, { value: selectedWard, onValueChange: setSelectedWard, children: [_jsx(SelectTrigger, { children: _jsx(SelectValue, {}) }), _jsxs(SelectContent, { children: [_jsx(SelectItem, { value: "all", children: "All Wards" }), _jsx(SelectItem, { value: "ward1", children: "Ward 1" }), _jsx(SelectItem, { value: "ward2", children: "Ward 2" }), _jsx(SelectItem, { value: "ward3", children: "Ward 3" }), _jsx(SelectItem, { value: "ward4", children: "Ward 4" }), _jsx(SelectItem, { value: "ward5", children: "Ward 5" })] })] })] }), _jsxs("div", { className: "space-y-2", children: [_jsx(Label, { children: "Complaint Type" }), _jsxs(Select, { value: selectedType, onValueChange: setSelectedType, children: [_jsx(SelectTrigger, { children: _jsx(SelectValue, {}) }), _jsxs(SelectContent, { children: [_jsx(SelectItem, { value: "all", children: "All Types" }), _jsx(SelectItem, { value: "water", children: "Water Supply" }), _jsx(SelectItem, { value: "electricity", children: "Electricity" }), _jsx(SelectItem, { value: "road", children: "Road Repair" }), _jsx(SelectItem, { value: "garbage", children: "Garbage Collection" }), _jsx(SelectItem, { value: "lighting", children: "Street Lighting" })] })] })] }), _jsx("div", { className: "flex items-end", children: _jsx(Button, { variant: "outline", className: "w-full", children: "Apply Filters" }) })] }) })] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-5 gap-4", children: [_jsx(Card, { children: _jsx(CardContent, { className: "p-4", children: _jsxs("div", { className: "flex items-center space-x-2", children: [_jsx(FileText, { className: "h-5 w-5 text-primary" }), _jsxs("div", { children: [_jsx("p", { className: "text-sm text-muted-foreground", children: "Total Complaints" }), _jsx("p", { className: "text-2xl font-bold", children: reportMetrics.totalComplaints.toLocaleString() })] })] }) }) }), _jsx(Card, { children: _jsx(CardContent, { className: "p-4", children: _jsxs("div", { className: "flex items-center space-x-2", children: [_jsx(Clock, { className: "h-5 w-5 text-green-600" }), _jsxs("div", { children: [_jsx("p", { className: "text-sm text-muted-foreground", children: "Resolved" }), _jsx("p", { className: "text-2xl font-bold", children: reportMetrics.resolvedComplaints.toLocaleString() })] })] }) }) }), _jsx(Card, { children: _jsx(CardContent, { className: "p-4", children: _jsxs("div", { className: "flex items-center space-x-2", children: [_jsx(TrendingUp, { className: "h-5 w-5 text-blue-600" }), _jsxs("div", { children: [_jsx("p", { className: "text-sm text-muted-foreground", children: "SLA Compliance" }), _jsxs("p", { className: "text-2xl font-bold", children: [reportMetrics.slaCompliance, "%"] })] })] }) }) }), _jsx(Card, { children: _jsx(CardContent, { className: "p-4", children: _jsxs("div", { className: "flex items-center space-x-2", children: [_jsx(Calendar, { className: "h-5 w-5 text-orange-600" }), _jsxs("div", { children: [_jsx("p", { className: "text-sm text-muted-foreground", children: "Avg Resolution" }), _jsxs("p", { className: "text-2xl font-bold", children: [reportMetrics.avgResolutionTime, "d"] })] })] }) }) }), _jsx(Card, { children: _jsx(CardContent, { className: "p-4", children: _jsxs("div", { className: "flex items-center space-x-2", children: [_jsx(Users, { className: "h-5 w-5 text-purple-600" }), _jsxs("div", { children: [_jsx("p", { className: "text-sm text-muted-foreground", children: "Satisfaction" }), _jsxs("p", { className: "text-2xl font-bold", children: [reportMetrics.citizenSatisfaction, "/5"] })] })] }) }) })] }), _jsxs(Tabs, { defaultValue: "overview", className: "space-y-4", children: [_jsxs(TabsList, { children: [_jsx(TabsTrigger, { value: "overview", children: "Report Overview" }), _jsx(TabsTrigger, { value: "export", children: "Export Options" })] }), _jsx(TabsContent, { value: "overview", className: "space-y-4", children: _jsxs(Card, { children: [_jsx(CardHeader, { children: _jsxs(CardTitle, { className: "flex items-center space-x-2", children: [_jsx(FileText, { className: "h-5 w-5" }), _jsx("span", { children: "Report Summary" })] }) }), _jsxs(CardContent, { children: [_jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [_jsxs("div", { className: "space-y-4", children: [_jsx("h4", { className: "font-semibold text-lg", children: "Current Period Summary" }), _jsxs("div", { className: "space-y-3", children: [_jsxs("div", { className: "flex justify-between", children: [_jsx("span", { children: "Report Period:" }), _jsx("span", { className: "font-medium", children: selectedPeriod === "month"
                                                                                ? "This Month"
                                                                                : selectedPeriod })] }), _jsxs("div", { className: "flex justify-between", children: [_jsx("span", { children: "Ward Filter:" }), _jsx("span", { className: "font-medium", children: selectedWard === "all" ? "All Wards" : selectedWard })] }), _jsxs("div", { className: "flex justify-between", children: [_jsx("span", { children: "Type Filter:" }), _jsx("span", { className: "font-medium", children: selectedType === "all" ? "All Types" : selectedType })] }), _jsxs("div", { className: "flex justify-between", children: [_jsx("span", { children: "Generated:" }), _jsx("span", { className: "font-medium", children: new Date().toLocaleDateString() })] })] })] }), _jsxs("div", { className: "space-y-4", children: [_jsx("h4", { className: "font-semibold text-lg", children: "Key Insights" }), _jsxs("div", { className: "space-y-3 text-sm", children: [_jsxs("div", { className: "p-3 bg-green-50 rounded-lg", children: [_jsx("div", { className: "font-medium text-green-800", children: "Top Performing Ward" }), _jsx("div", { className: "text-green-600", children: "Ward 2 - 89.6% SLA compliance" })] }), _jsxs("div", { className: "p-3 bg-blue-50 rounded-lg", children: [_jsx("div", { className: "font-medium text-blue-800", children: "Most Common Issue" }), _jsx("div", { className: "text-blue-600", children: "Water Supply (23% of complaints)" })] }), _jsxs("div", { className: "p-3 bg-orange-50 rounded-lg", children: [_jsx("div", { className: "font-medium text-orange-800", children: "Avg Resolution Time" }), _jsxs("div", { className: "text-orange-600", children: [reportMetrics.avgResolutionTime, " days"] })] })] })] })] }), _jsx("div", { className: "mt-6 pt-6 border-t", children: _jsxs("div", { className: "text-center", children: [_jsx("p", { className: "text-sm text-gray-600 mb-4", children: "For detailed analytics and trends, visit the Analytics page" }), _jsx("div", { className: "flex justify-center space-x-4", children: _jsxs(Button, { variant: "outline", onClick: () => (window.location.href = "/admin/analytics"), children: [_jsx(BarChart3, { className: "h-4 w-4 mr-2" }), "View Analytics"] }) })] }) })] })] }) }), _jsx(TabsContent, { value: "export", className: "space-y-4", children: _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [_jsxs(Card, { children: [_jsx(CardHeader, { children: _jsx(CardTitle, { children: "Export Formats" }) }), _jsx(CardContent, { className: "space-y-4", children: _jsxs("div", { className: "space-y-3", children: [_jsxs(Button, { variant: "outline", className: "w-full justify-start", onClick: () => exportReport("pdf"), children: [_jsx(FileText, { className: "h-4 w-4 mr-2" }), "PDF Report", _jsx("span", { className: "ml-auto text-xs text-gray-500", children: "Formatted" })] }), _jsxs(Button, { variant: "outline", className: "w-full justify-start", onClick: () => exportReport("excel"), children: [_jsx(Download, { className: "h-4 w-4 mr-2" }), "Excel Spreadsheet", _jsx("span", { className: "ml-auto text-xs text-gray-500", children: "Raw data" })] }), _jsxs(Button, { variant: "outline", className: "w-full justify-start", onClick: () => console.log("CSV export"), children: [_jsx(BarChart3, { className: "h-4 w-4 mr-2" }), "CSV Export", _jsx("span", { className: "ml-auto text-xs text-gray-500", children: "Data only" })] })] }) })] }), _jsxs(Card, { children: [_jsx(CardHeader, { children: _jsx(CardTitle, { children: "Report Schedule" }) }), _jsxs(CardContent, { className: "space-y-4", children: [_jsx("div", { className: "text-sm text-gray-600 mb-4", children: "Set up automatic report generation and delivery" }), _jsxs("div", { className: "space-y-3", children: [_jsxs(Button, { variant: "outline", className: "w-full justify-start", children: [_jsx(Calendar, { className: "h-4 w-4 mr-2" }), "Daily Reports"] }), _jsxs(Button, { variant: "outline", className: "w-full justify-start", children: [_jsx(Calendar, { className: "h-4 w-4 mr-2" }), "Weekly Summary"] }), _jsxs(Button, { variant: "outline", className: "w-full justify-start", children: [_jsx(Calendar, { className: "h-4 w-4 mr-2" }), "Monthly Analysis"] })] })] })] })] }) })] })] }));
};
export default AdminReports;
